"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const L=require("react/jsx-runtime"),R=require("react"),oo=require("react-dom"),we=0,zt=1,Kt=2,Rn=4;function rn(t){return()=>t}function ro(t){t()}function te(t,e){return n=>t(e(n))}function sn(t,e){return()=>t(e)}function En(t,e){return n=>t(e,n)}function Ve(t){return t!==void 0}function so(...t){return()=>{t.map(ro)}}function Gt(){}function Ce(t,e){return e(t),t}function io(t,e){return e(t)}function X(...t){return t}function U(t,e){return t(zt,e)}function A(t,e){t(we,e)}function Pe(t){t(Kt)}function lt(t){return t(Rn)}function F(t,e){return U(t,En(e,we))}function Rt(t,e){const n=t(zt,o=>{n(),e(o)});return n}function ln(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function Hn(t,e){return t===e}function Y(t=Hn){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function P(t){return e=>n=>{t(n)&&e(n)}}function H(t){return e=>te(e,t)}function vt(t){return e=>()=>{e(t)}}function S(t,...e){const n=lo(...e);return(o,r)=>{switch(o){case Kt:Pe(t);return;case zt:return U(t,n(r))}}}function bt(t,e){return n=>o=>{n(e=t(e,o))}}function Ut(t){return e=>n=>{t>0?t--:e(n)}}function Lt(t){let e=null,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function G(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);U(s,c=>{const d=n;n=n|l,e[i]=c,d!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>{s([i].concat(e))};n===r?l():o=l}}function lo(...t){return e=>t.reduceRight(io,e)}function co(t){let e,n;const o=()=>e==null?void 0:e();return function(r,s){switch(r){case zt:return s?n===s?void 0:(o(),n=s,e=U(t,s),e):(o(),Gt);case Kt:o(),n=null;return}}}function w(t){let e=t;const n=D();return(o,r)=>{switch(o){case we:e=r;break;case zt:{r(e);break}case Rn:return e}return n(o,r)}}function ct(t,e){return Ce(w(e),n=>F(t,n))}function D(){const t=[];return(e,n)=>{switch(e){case we:t.slice().forEach(o=>{o(n)});return;case Kt:t.splice(0,t.length);return;case zt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}}}function ht(t){return Ce(D(),e=>F(t,e))}function $(t,e=[],{singleton:n}={singleton:!0}){return{constructor:t,dependencies:e,id:uo(),singleton:n}}const uo=()=>Symbol();function ao(t){const e=new Map,n=({constructor:o,dependencies:r,id:s,singleton:i})=>{if(i&&e.has(s))return e.get(s);const l=o(r.map(c=>n(c)));return i&&e.set(s,l),l};return n(t)}function rt(...t){const e=D(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);U(s,c=>{n[i]=c,o=o|l,o===r&&A(e,n)})}),function(s,i){switch(s){case Kt:{Pe(e);return}case zt:return o===r&&i(n),U(e,i)}}}function M(t,e=Hn){return S(t,Y(e))}function cn(...t){return function(e,n){switch(e){case Kt:return;case zt:return so(...t.map(o=>U(o,n)))}}}var mt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(mt||{});const fo={0:"debug",3:"error",1:"log",2:"warn"},mo=()=>typeof globalThis>"u"?window:globalThis,Vt=$(()=>{const t=w(3);return{log:w((n,o,r=1)=>{var i;const s=(i=mo().VIRTUOSO_LOG_LEVEL)!=null?i:lt(t);r>=s&&console[fo[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Et(t,e,n){return Me(t,e,n).callbackRef}function Me(t,e,n){const o=R.useRef(null);let r=s=>{};if(typeof ResizeObserver<"u"){const s=R.useMemo(()=>new ResizeObserver(i=>{const l=()=>{const c=i[0].target;c.offsetParent!==null&&t(c)};n?l():requestAnimationFrame(l)}),[t]);r=i=>{i&&e?(s.observe(i),o.current=i):(o.current&&s.unobserve(o.current),o.current=null)}}return{callbackRef:r,ref:o}}function kn(t,e,n,o,r,s,i,l,c){const d=R.useCallback(f=>{const I=po(f.children,e,l?"offsetWidth":"offsetHeight",r);let p=f.parentElement;for(;!p.dataset.virtuosoScroller;)p=p.parentElement;const m=p.lastElementChild.dataset.viewportType==="window",C=i?l?i.scrollLeft:i.scrollTop:m?l?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:l?p.scrollLeft:p.scrollTop,x=i?l?i.scrollWidth:i.scrollHeight:m?l?document.documentElement.scrollWidth:document.documentElement.scrollHeight:l?p.scrollWidth:p.scrollHeight,y=i?l?i.offsetWidth:i.offsetHeight:m?l?window.innerWidth:window.innerHeight:l?p.offsetWidth:p.offsetHeight;o({scrollHeight:x,scrollTop:Math.max(C,0),viewportHeight:y}),s==null||s(l?un("column-gap",getComputedStyle(f).columnGap,r):un("row-gap",getComputedStyle(f).rowGap,r)),I!==null&&t(I)},[t,e,r,s,i,o]);return Me(d,n,c)}function po(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),d=parseFloat(l.dataset.knownSize),f=e(l,n);if(f===0&&o("Zero-sized element, this should not happen",{child:l},mt.ERROR),f===d)continue;const I=s[s.length-1];s.length===0||I.size!==f||I.endIndex!==c-1?s.push({endIndex:c,size:f,startIndex:c}):s[s.length-1].endIndex++}return s}function un(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function je(t,e,n){const o=R.useRef(null),r=R.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const d=c.getBoundingClientRect(),f=d.width;let I,p;if(e){const m=e.getBoundingClientRect(),C=d.top-m.top;p=m.height-Math.max(0,C),I=C+e.scrollTop}else p=window.innerHeight-Math.max(0,d.top),I=d.top+window.pageYOffset;o.current={offsetTop:I,visibleHeight:p,visibleWidth:f},t(o.current)},[t,e]),{callbackRef:s,ref:i}=Me(r,!0,n),l=R.useCallback(()=>{r(i.current)},[r,i]);return R.useEffect(()=>{if(e){e.addEventListener("scroll",l);const c=new ResizeObserver(()=>{requestAnimationFrame(l)});return c.observe(e),()=>{e.removeEventListener("scroll",l),c.unobserve(e)}}else return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[l,e]),s}const at=$(()=>{const t=D(),e=D(),n=w(0),o=D(),r=w(0),s=D(),i=D(),l=w(0),c=w(0),d=w(0),f=w(0),I=D(),p=D(),m=w(!1),C=w(!1),x=w(!1);return F(S(t,H(({scrollTop:y})=>y)),e),F(S(t,H(({scrollHeight:y})=>y)),i),F(e,r),{deviation:n,fixedFooterHeight:d,fixedHeaderHeight:c,footerHeight:f,headerHeight:l,horizontalDirection:C,scrollBy:p,scrollContainerState:t,scrollHeight:i,scrollingInProgress:m,scrollTo:I,scrollTop:e,skipAnimationFrameInResizeObserver:x,smoothScrollTargetReached:o,statefulScrollTop:r,viewportHeight:s}},[],{singleton:!0}),ee={lvl:0};function Bn(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:c}=e(t[i]);s.push({end:l-1,start:o,value:r}),o=l,r=c}return s.push({end:1/0,start:o,value:r}),s}function K(t){return t===ee}function ne(t,e){if(!K(t))return e===t.k?t.v:e<t.k?ne(t.l,e):ne(t.r,e)}function wt(t,e,n="k"){if(K(t))return[-1/0,void 0];if(Number(t[n])===e)return[t.k,t.v];if(Number(t[n])<e){const o=wt(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return wt(t.l,e,n)}function pt(t,e,n){return K(t)?Ln(e,n,1):e===t.k?ot(t,{k:e,v:n}):e<t.k?an(ot(t,{l:pt(t.l,e,n)})):an(ot(t,{r:pt(t.r,e,n)}))}function $t(){return ee}function ye(t,e,n){if(K(t))return[];const o=wt(t,e)[0];return ho(Oe(t,o,n))}function Be(t,e){if(K(t))return ee;const{k:n,l:o,r}=t;if(e===n){if(K(o))return r;if(K(r))return o;{const[s,i]=Fn(o);return he(ot(t,{k:s,l:On(o),v:i}))}}else return e<n?he(ot(t,{l:Be(o,e)})):he(ot(t,{r:Be(r,e)}))}function Wt(t){return K(t)?[]:[...Wt(t.l),{k:t.k,v:t.v},...Wt(t.r)]}function Oe(t,e,n){if(K(t))return[];const{k:o,l:r,r:s,v:i}=t;let l=[];return o>e&&(l=l.concat(Oe(r,e,n))),o>=e&&o<=n&&l.push({k:o,v:i}),o<=n&&(l=l.concat(Oe(s,e,n))),l}function he(t){const{l:e,lvl:n,r:o}=t;if(o.lvl>=n-1&&e.lvl>=n-1)return t;if(n>o.lvl+1){if(Re(e))return zn(ot(t,{lvl:n-1}));if(!K(e)&&!K(e.r))return ot(e.r,{l:ot(e,{r:e.r.l}),lvl:n,r:ot(t,{l:e.r.r,lvl:n-1})});throw new Error("Unexpected empty nodes")}else{if(Re(t))return Fe(ot(t,{lvl:n-1}));if(!K(o)&&!K(o.l)){const r=o.l,s=Re(r)?o.lvl-1:o.lvl;return ot(r,{l:ot(t,{lvl:n-1,r:r.l}),lvl:r.lvl+1,r:Fe(ot(o,{l:r.r,lvl:s}))})}else throw new Error("Unexpected empty nodes")}}function ot(t,e){return Ln(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function On(t){return K(t.r)?t.l:he(ot(t,{r:On(t.r)}))}function Re(t){return K(t)||t.lvl>t.r.lvl}function Fn(t){return K(t.r)?[t.k,t.v]:Fn(t.r)}function Ln(t,e,n,o=ee,r=ee){return{k:t,l:o,lvl:n,r,v:e}}function an(t){return Fe(zn(t))}function zn(t){const{l:e}=t;return!K(e)&&e.lvl===t.lvl?ot(e,{r:ot(t,{l:e.r})}):t}function Fe(t){const{lvl:e,r:n}=t;return!K(n)&&!K(n.r)&&n.lvl===e&&n.r.lvl===e?ot(n,{l:ot(t,{r:n.l}),lvl:e+1}):t}function ho(t){return Bn(t,({k:e,v:n})=>({index:e,value:n}))}function Vn(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}function oe(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}const Ae=$(()=>({recalcInProgress:w(!1)}),[],{singleton:!0});function Pn(t,e,n){return t[xe(t,e,n)]}function xe(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function go(t,e,n,o){const r=xe(t,e,o),s=xe(t,n,o,r);return t.slice(r,s+1)}function Ct(t,e){return Math.round(t.getBoundingClientRect()[e])}function ve(t){return!K(t.groupOffsetTree)}function We({index:t},e){return e===t?0:e<t?-1:1}function xo(){return{groupIndices:[],groupOffsetTree:$t(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:$t()}}function Io(t,e){let n=K(t)?0:1/0;for(const o of e){const{endIndex:r,size:s,startIndex:i}=o;if(n=Math.min(n,i),K(t)){t=pt(t,0,s);continue}const l=ye(t,i-1,r+1);if(l.some(bo(o)))continue;let c=!1,d=!1;for(const{end:f,start:I,value:p}of l)c?(r>=I||s===p)&&(t=Be(t,I)):(d=p!==s,c=!0),f>r&&r>=I&&p!==s&&(t=pt(t,r+1,p));d&&(t=pt(t,i,s))}return[t,n]}function So(t){return typeof t.groupIndex<"u"}function To({offset:t},e){return e===t?0:e<t?-1:1}function re(t,e,n){if(e.length===0)return 0;const{index:o,offset:r,size:s}=Pn(e,t,We),i=t-o,l=s*i+(i-1)*n+r;return l>0?l+n:l}function Mn(t,e){if(!ve(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function jn(t,e,n){if(So(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=Mn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function wo(t,e,n,o=0){return o>0&&(e=Math.max(e,Pn(t,o,We).offset)),Bn(go(t,e,n,To),vo)}function Co(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,mt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&K(s)&&e.length===2){const p=e[0].size,m=e[1].size;i=n.reduce((C,x)=>pt(pt(C,x,p),x+1,m),i)}else[i,l]=Io(i,e);if(i===s)return t;const{lastIndex:c,lastOffset:d,lastSize:f,offsetTree:I}=Le(t.offsetTree,l,i,r);return{groupIndices:n,groupOffsetTree:n.reduce((p,m)=>pt(p,m,re(m,I,r)),$t()),lastIndex:c,lastOffset:d,lastSize:f,offsetTree:I,sizeTree:i}}function yo(t){return Wt(t).map(({k:e,v:n},o,r)=>{const s=r[o+1];return{endIndex:s?s.k-1:1/0,size:n,startIndex:e}})}function dn(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function Le(t,e,n,o){let r=t,s=0,i=0,l=0,c=0;if(e!==0){c=xe(r,e-1,We),l=r[c].offset;const f=wt(n,e-1);s=f[0],i=f[1],r.length&&r[c].size===wt(n,e)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:d,value:f}of ye(n,e,1/0)){const I=d-s,p=I*i+l+I*o;r.push({index:d,offset:p,size:f}),s=d,l=p,i=f}return{lastIndex:s,lastOffset:l,lastSize:i,offsetTree:r}}function vo(t){return{index:t.index,value:t}}function bo(t){const{endIndex:e,size:n,startIndex:o}=t;return r=>r.start===o&&(r.end===e||r.end===1/0)&&r.value===n}const Ro={offsetHeight:"height",offsetWidth:"width"},Ht=$(([{log:t},{recalcInProgress:e}])=>{const n=D(),o=D(),r=ct(o,0),s=D(),i=D(),l=w(0),c=w([]),d=w(void 0),f=w(void 0),I=w((h,a)=>Ct(h,Ro[a])),p=w(void 0),m=w(0),C=xo(),x=ct(S(n,G(c,t,m),bt(Co,C),Y()),C),y=ct(S(c,Y(),bt((h,a)=>({current:a,prev:h.current}),{current:[],prev:[]}),H(({prev:h})=>h)),[]);F(S(c,P(h=>h.length>0),G(x,m),H(([h,a,E])=>{const B=h.reduce((O,z,V)=>pt(O,z,re(z,a.offsetTree,E)||V),$t());return{...a,groupIndices:h,groupOffsetTree:B}})),x),F(S(o,G(x),P(([h,{lastIndex:a}])=>h<a),H(([h,{lastIndex:a,lastSize:E}])=>[{endIndex:a,size:E,startIndex:h}])),n),F(d,f);const g=ct(S(d,H(h=>h===void 0)),!0);F(S(f,P(h=>h!==void 0&&K(lt(x).sizeTree)),H(h=>[{endIndex:0,size:h,startIndex:0}])),n);const u=ht(S(n,G(x),bt(({sizes:h},[a,E])=>({changed:E!==h,sizes:E}),{changed:!1,sizes:C}),H(h=>h.changed)));U(S(l,bt((h,a)=>({diff:h.prev-a,prev:a}),{diff:0,prev:0}),H(h=>h.diff)),h=>{const{groupIndices:a}=lt(x);if(h>0)A(e,!0),A(s,h+dn(h,a));else if(h<0){const E=lt(y);E.length>0&&(h-=dn(-h,E)),A(i,h)}}),U(S(l,G(t)),([h,a])=>{h<0&&a("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},mt.ERROR)});const T=ht(s);F(S(s,G(x),H(([h,a])=>{const E=a.groupIndices.length>0,B=[],O=a.lastSize;if(E){const z=ne(a.sizeTree,0);let V=0,N=0;for(;V<h;){const k=a.groupIndices[N],q=a.groupIndices.length===N+1?1/0:a.groupIndices[N+1]-k-1;B.push({endIndex:k,size:z,startIndex:k}),B.push({endIndex:k+1+q-1,size:O,startIndex:k+1}),N++,V+=q+1}const J=Wt(a.sizeTree);return V!==h&&J.shift(),J.reduce((k,{k:q,v:st})=>{let dt=k.ranges;return k.prevSize!==0&&(dt=[...k.ranges,{endIndex:q+h-1,size:k.prevSize,startIndex:k.prevIndex}]),{prevIndex:q+h,prevSize:st,ranges:dt}},{prevIndex:h,prevSize:0,ranges:B}).ranges}return Wt(a.sizeTree).reduce((z,{k:V,v:N})=>({prevIndex:V+h,prevSize:N,ranges:[...z.ranges,{endIndex:V+h-1,size:z.prevSize,startIndex:z.prevIndex}]}),{prevIndex:0,prevSize:O,ranges:[]}).ranges})),n);const b=ht(S(i,G(x,m),H(([h,{offsetTree:a},E])=>{const B=-h;return re(B,a,E)})));return F(S(i,G(x,m),H(([h,a,E])=>{if(a.groupIndices.length>0){if(K(a.sizeTree))return a;let O=$t();const z=lt(y);let V=0,N=0,J=0;for(;V<-h;){J=z[N];const k=z[N+1]-J-1;N++,V+=k+1}if(O=Wt(a.sizeTree).reduce((k,{k:q,v:st})=>pt(k,Math.max(0,q+h),st),O),V!==-h){const k=ne(a.sizeTree,J);O=pt(O,0,k);const q=wt(a.sizeTree,-h+1)[1];O=pt(O,1,q)}return{...a,sizeTree:O,...Le(a.offsetTree,0,O,E)}}else{const O=Wt(a.sizeTree).reduce((z,{k:V,v:N})=>pt(z,Math.max(0,V+h),N),$t());return{...a,sizeTree:O,...Le(a.offsetTree,0,O,E)}}})),x),{beforeUnshiftWith:T,data:p,defaultItemSize:f,firstItemIndex:l,fixedItemSize:d,gap:m,groupIndices:c,itemSize:I,listRefresh:u,shiftWith:i,shiftWithOffset:b,sizeRanges:n,sizes:x,statefulTotalCount:r,totalCount:o,trackItemSizes:g,unshiftWith:s}},X(Vt,Ae),{singleton:!0});function Eo(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{groupIndices:[],totalCount:0})}const An=$(([{groupIndices:t,sizes:e,totalCount:n},{headerHeight:o,scrollTop:r}])=>{const s=D(),i=D(),l=ht(S(s,H(Eo)));return F(S(l,H(c=>c.totalCount)),n),F(S(l,H(c=>c.groupIndices)),t),F(S(rt(r,e,o),P(([c,d])=>ve(d)),H(([c,d,f])=>wt(d.groupOffsetTree,Math.max(c-f,0),"v")[0]),Y(),H(c=>[c])),i),{groupCounts:s,topItemsIndexes:i}},X(Ht,at)),Pt=$(([{log:t}])=>{const e=w(!1),n=ht(S(e,P(o=>o),Y()));return U(e,o=>{o&&lt(t)("props updated",{},mt.DEBUG)}),{didMount:n,propsReady:e}},X(Vt),{singleton:!0}),Ho=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Wn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!Ho)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const ie=$(([{gap:t,listRefresh:e,sizes:n,totalCount:o},{fixedFooterHeight:r,fixedHeaderHeight:s,footerHeight:i,headerHeight:l,scrollingInProgress:c,scrollTo:d,smoothScrollTargetReached:f,viewportHeight:I},{log:p}])=>{const m=D(),C=D(),x=w(0);let y=null,g=null,u=null;function T(){y&&(y(),y=null),u&&(u(),u=null),g&&(clearTimeout(g),g=null),A(c,!1)}return F(S(m,G(n,I,o,x,l,i,p),G(t,s,r),H(([[b,h,a,E,B,O,z,V],N,J,nt])=>{const k=Wn(b),{align:q,behavior:st,offset:dt}=k,It=E-1,ft=jn(k,h,It);let ut=re(ft,h.offsetTree,N)+O;q==="end"?(ut+=J+wt(h.sizeTree,ft)[1]-a+nt,ft===It&&(ut+=z)):q==="center"?ut+=(J+wt(h.sizeTree,ft)[1]-a+nt)/2:ut-=B,dt&&(ut+=dt);const Mt=St=>{T(),St?(V("retrying to scroll to",{location:b},mt.DEBUG),A(m,b)):(A(C,!0),V("list did not change, scroll successful",{},mt.DEBUG))};if(T(),st==="smooth"){let St=!1;u=U(e,Yt=>{St=St||Yt}),y=Rt(f,()=>{Mt(St)})}else y=Rt(S(e,ko(150)),Mt);return g=setTimeout(()=>{T()},1200),A(c,!0),V("scrolling from index to",{behavior:st,index:ft,top:ut},mt.DEBUG),{behavior:st,top:ut}})),d),{scrollTargetReached:C,scrollToIndex:m,topListHeight:x}},X(Ht,at,Vt),{singleton:!0});function ko(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}function Ge(t,e){t==0?e():requestAnimationFrame(()=>{Ge(t-1,e)})}function _e(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const le=$(([{defaultItemSize:t,listRefresh:e,sizes:n},{scrollTop:o},{scrollTargetReached:r,scrollToIndex:s},{didMount:i}])=>{const l=w(!0),c=w(0),d=w(!0);return F(S(i,G(c),P(([f,I])=>!!I),vt(!1)),l),F(S(i,G(c),P(([f,I])=>!!I),vt(!1)),d),U(S(rt(e,i),G(l,n,t,d),P(([[,f],I,{sizeTree:p},m,C])=>f&&(!K(p)||Ve(m))&&!I&&!C),G(c)),([,f])=>{Rt(r,()=>{A(d,!0)}),Ge(4,()=>{Rt(o,()=>{A(l,!0)}),A(s,f)})}),{initialItemFinalLocationReached:d,initialTopMostItemIndex:c,scrolledToInitialItem:l}},X(Ht,at,ie,Pt),{singleton:!0});function Gn(t,e){return Math.abs(t-e)<1.01}const se="up",Jt="down",Bo="none",Oo={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Fo=0,ce=$(([{footerHeight:t,headerHeight:e,scrollBy:n,scrollContainerState:o,scrollTop:r,viewportHeight:s}])=>{const i=w(!1),l=w(!0),c=D(),d=D(),f=w(4),I=w(Fo),p=ct(S(cn(S(M(r),Ut(1),vt(!0)),S(M(r),Ut(1),vt(!1),ln(100))),Y()),!1),m=ct(S(cn(S(n,vt(!0)),S(n,vt(!1),ln(200))),Y()),!1);F(S(rt(M(r),M(I)),H(([u,T])=>u<=T),Y()),l),F(S(l,Lt(50)),d);const C=ht(S(rt(o,M(s),M(e),M(t),M(f)),bt((u,[{scrollHeight:T,scrollTop:b},h,a,E,B])=>{const O=b+h-T>-B,z={scrollHeight:T,scrollTop:b,viewportHeight:h};if(O){let N,J;return b>u.state.scrollTop?(N="SCROLLED_DOWN",J=u.state.scrollTop-b):(N="SIZE_DECREASED",J=u.state.scrollTop-b||u.scrollTopDelta),{atBottom:!0,atBottomBecause:N,scrollTopDelta:J,state:z}}let V;return z.scrollHeight>u.state.scrollHeight?V="SIZE_INCREASED":h<u.state.viewportHeight?V="VIEWPORT_HEIGHT_DECREASING":b<u.state.scrollTop?V="SCROLLING_UPWARDS":V="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:V,state:z}},Oo),Y((u,T)=>u&&u.atBottom===T.atBottom))),x=ct(S(o,bt((u,{scrollHeight:T,scrollTop:b,viewportHeight:h})=>{if(Gn(u.scrollHeight,T))return{changed:!1,jump:0,scrollHeight:T,scrollTop:b};{const a=T-(b+h)<1;return u.scrollTop!==b&&a?{changed:!0,jump:u.scrollTop-b,scrollHeight:T,scrollTop:b}:{changed:!0,jump:0,scrollHeight:T,scrollTop:b}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),P(u=>u.changed),H(u=>u.jump)),0);F(S(C,H(u=>u.atBottom)),i),F(S(i,Lt(50)),c);const y=w(Jt);F(S(o,H(({scrollTop:u})=>u),Y(),bt((u,T)=>lt(m)?{direction:u.direction,prevScrollTop:T}:{direction:T<u.prevScrollTop?se:Jt,prevScrollTop:T},{direction:Jt,prevScrollTop:0}),H(u=>u.direction)),y),F(S(o,Lt(50),vt(Bo)),y);const g=w(0);return F(S(p,P(u=>!u),vt(0)),g),F(S(r,Lt(100),G(p),P(([u,T])=>!!T),bt(([u,T],[b])=>[T,b],[0,0]),H(([u,T])=>T-u)),g),{atBottomState:C,atBottomStateChange:c,atBottomThreshold:f,atTopStateChange:d,atTopThreshold:I,isAtBottom:i,isAtTop:l,isScrolling:p,lastJumpDueToItemResize:x,scrollDirection:y,scrollVelocity:g}},X(at)),Ie="top",Se="bottom",fn="none";function mn(t,e,n){return typeof t=="number"?n===se&&e===Ie||n===Jt&&e===Se?t:0:n===se?e===Ie?t.main:t.reverse:e===Se?t.main:t.reverse}function pn(t,e){var n;return typeof t=="number"?t:(n=t[e])!=null?n:0}const Ne=$(([{deviation:t,fixedHeaderHeight:e,headerHeight:n,scrollTop:o,viewportHeight:r}])=>{const s=D(),i=w(0),l=w(0),c=w(0),d=ct(S(rt(M(o),M(r),M(n),M(s,oe),M(c),M(i),M(e),M(t),M(l)),H(([f,I,p,[m,C],x,y,g,u,T])=>{const b=f-u,h=y+g,a=Math.max(p-b,0);let E=fn;const B=pn(T,Ie),O=pn(T,Se);return m-=u,m+=p+g,C+=p+g,C-=u,m>f+h-B&&(E=se),C<f-a+I+O&&(E=Jt),E!==fn?[Math.max(b-p-mn(x,Ie,E)-B,0),b-a-g+I+mn(x,Se,E)+O]:null}),P(f=>f!=null),Y(oe)),[0,0]);return{increaseViewportBy:l,listBoundary:s,overscan:c,topListHeight:i,visibleRange:d}},X(at),{singleton:!0});function Lo(t,e,n){if(ve(e)){const o=Mn(t,e);return[{index:wt(e.groupOffsetTree,o)[0],offset:0,size:0},{data:n==null?void 0:n[0],index:o,offset:0,size:0}]}return[{data:n==null?void 0:n[0],index:t,offset:0,size:0}]}const Ee={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function ge(t,e,n,o,r,s){const{lastIndex:i,lastOffset:l,lastSize:c}=r;let d=0,f=0;if(t.length>0){d=t[0].offset;const x=t[t.length-1];f=x.offset+x.size}const I=n-i,p=l+I*c+(I-1)*o,m=d,C=p-f;return{bottom:f,firstItemIndex:s,items:hn(t,r,s),offsetBottom:C,offsetTop:d,top:m,topItems:hn(e,r,s),topListHeight:e.reduce((x,y)=>y.size+x,0),totalCount:n}}function _n(t,e,n,o,r,s){let i=0;if(n.groupIndices.length>0)for(const f of n.groupIndices){if(f-i>=t)break;i++}const l=t+i,c=_e(e,l),d=Array.from({length:l}).map((f,I)=>({data:s[I+c],index:I+c,offset:0,size:0}));return ge(d,[],l,r,n,o)}function hn(t,e,n){if(t.length===0)return[];if(!ve(e))return t.map(d=>({...d,index:d.index+n,originalIndex:d.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=ye(e.groupOffsetTree,o,r);let l,c=0;for(const d of t){(!l||l.end<d.index)&&(l=i.shift(),c=e.groupIndices.indexOf(l.start));let f;d.index===l.start?f={index:c,type:"group"}:f={groupIndex:c,index:d.index-(c+1)+n},s.push({...f,data:d.data,offset:d.offset,originalIndex:d.index,size:d.size})}return s}const _t=$(([{data:t,firstItemIndex:e,gap:n,sizes:o,totalCount:r},s,{listBoundary:i,topListHeight:l,visibleRange:c},{initialTopMostItemIndex:d,scrolledToInitialItem:f},{topListHeight:I},p,{didMount:m},{recalcInProgress:C}])=>{const x=w([]),y=w(0),g=D();F(s.topItemsIndexes,x);const u=ct(S(rt(m,C,M(c,oe),M(r),M(o),M(d),f,M(x),M(e),M(n),t),P(([a,E,,B,,,,,,,O])=>{const z=O&&O.length!==B;return a&&!E&&!z}),H(([,,[a,E],B,O,z,V,N,J,nt,k])=>{const q=O,{offsetTree:st,sizeTree:dt}=q,It=lt(y);if(B===0)return{...Ee,totalCount:B};if(a===0&&E===0)return It===0?{...Ee,totalCount:B}:_n(It,z,O,J,nt,k||[]);if(K(dt))return It>0?null:ge(Lo(_e(z,B),q,k),[],B,nt,q,J);const ft=[];if(N.length>0){const jt=N[0],yt=N[N.length-1];let kt=0;for(const v of ye(dt,jt,yt)){const _=v.value,Q=Math.max(v.start,jt),it=Math.min(v.end,yt);for(let tt=Q;tt<=it;tt++)ft.push({data:k==null?void 0:k[tt],index:tt,offset:kt,size:_}),kt+=_}}if(!V)return ge([],ft,B,nt,q,J);const ut=N.length>0?N[N.length-1]+1:0,Mt=wo(st,a,E,ut);if(Mt.length===0)return null;const St=B-1,Yt=Ce([],jt=>{for(const yt of Mt){const kt=yt.value;let v=kt.offset,_=yt.start;const Q=kt.size;if(kt.offset<a){_+=Math.floor((a-kt.offset+nt)/(Q+nt));const tt=_-yt.start;v+=tt*Q+tt*nt}_<ut&&(v+=(ut-_)*Q,_=ut);const it=Math.min(yt.end,St);for(let tt=_;tt<=it&&!(v>=E);tt++)jt.push({data:k==null?void 0:k[tt],index:tt,offset:v,size:Q}),v+=Q+nt}});return ge(Yt,ft,B,nt,q,J)}),P(a=>a!==null),Y()),Ee);F(S(t,P(Ve),H(a=>a==null?void 0:a.length)),r),F(S(u,H(a=>a.topListHeight)),I),F(I,l),F(S(u,H(a=>[a.top,a.bottom])),i),F(S(u,H(a=>a.items)),g);const T=ht(S(u,P(({items:a})=>a.length>0),G(r,t),P(([{items:a},E])=>a[a.length-1].originalIndex===E-1),H(([,a,E])=>[a-1,E]),Y(oe),H(([a])=>a))),b=ht(S(u,Lt(200),P(({items:a,topItems:E})=>a.length>0&&a[0].originalIndex===E.length),H(({items:a})=>a[0].index),Y())),h=ht(S(u,P(({items:a})=>a.length>0),H(({items:a})=>{let E=0,B=a.length-1;for(;a[E].type==="group"&&E<B;)E++;for(;a[B].type==="group"&&B>E;)B--;return{endIndex:a[B].index,startIndex:a[E].index}}),Y(Vn)));return{endReached:T,initialItemCount:y,itemsRendered:g,listState:u,rangeChanged:h,startReached:b,topItemsIndexes:x,...p}},X(Ht,An,Ne,le,ie,ce,Pt,Ae),{singleton:!0}),Nn=$(([{fixedFooterHeight:t,fixedHeaderHeight:e,footerHeight:n,headerHeight:o},{listState:r}])=>{const s=D(),i=ct(S(rt(n,t,o,e,r),H(([l,c,d,f,I])=>l+c+d+f+I.offsetBottom+I.bottom)),0);return F(M(i),s),{totalListHeight:i,totalListHeightChanged:s}},X(at,_t),{singleton:!0}),zo=$(([{viewportHeight:t},{totalListHeight:e}])=>{const n=w(!1),o=ct(S(rt(n,t,e),P(([r])=>r),H(([,r,s])=>Math.max(0,r-s)),Lt(0),Y()),0);return{alignToBottom:n,paddingTopAddition:o}},X(at,Nn),{singleton:!0});function gn(t){return t?t==="smooth"?"smooth":"auto":!1}const Vo=(t,e)=>typeof t=="function"?gn(t(e)):e&&gn(t),Po=$(([{listRefresh:t,totalCount:e},{atBottomState:n,isAtBottom:o},{scrollToIndex:r},{scrolledToInitialItem:s},{didMount:i,propsReady:l},{log:c},{scrollingInProgress:d}])=>{const f=w(!1),I=D();let p=null;function m(x){A(r,{align:"end",behavior:x,index:"LAST"})}U(S(rt(S(M(e),Ut(1)),i),G(M(f),o,s,d),H(([[x,y],g,u,T,b])=>{let h=y&&T,a="auto";return h&&(a=Vo(g,u||b),h=h&&!!a),{followOutputBehavior:a,shouldFollow:h,totalCount:x}}),P(({shouldFollow:x})=>x)),({followOutputBehavior:x,totalCount:y})=>{p&&(p(),p=null),p=Rt(t,()=>{lt(c)("following output to ",{totalCount:y},mt.DEBUG),m(x),p=null})});function C(x){const y=Rt(n,g=>{x&&!g.atBottom&&g.notAtBottomBecause==="SIZE_INCREASED"&&!p&&(lt(c)("scrolling to bottom due to increased size",{},mt.DEBUG),m("auto"))});setTimeout(y,100)}return U(S(rt(M(f),e,l),P(([x,,y])=>x&&y),bt(({value:x},[,y])=>({refreshed:x===y,value:y}),{refreshed:!1,value:0}),P(({refreshed:x})=>x),G(f,e)),([,x])=>{lt(s)&&C(x!==!1)}),U(I,()=>{C(lt(f)!==!1)}),U(rt(M(f),n),([x,y])=>{x&&!y.atBottom&&y.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&m("auto")}),{autoscrollToBottom:I,followOutput:f}},X(Ht,ce,ie,le,Pt,Vt,at)),Mo=$(([{data:t,firstItemIndex:e,gap:n,sizes:o},{initialTopMostItemIndex:r},{initialItemCount:s,listState:i},{didMount:l}])=>(F(S(l,G(s),P(([,c])=>c!==0),G(r,o,e,n,t),H(([[,c],d,f,I,p,m=[]])=>_n(c,d,f,I,p,m))),i),{}),X(Ht,le,_t,Pt),{singleton:!0}),jo=$(([{didMount:t},{scrollTo:e},{listState:n}])=>{const o=w(0);return U(S(t,G(o),P(([,r])=>r!==0),H(([,r])=>({top:r}))),r=>{Rt(S(n,Ut(1),P(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{A(e,r)})})}),{initialScrollTop:o}},X(Pt,at,_t),{singleton:!0}),Ao=({itemBottom:t,itemTop:e,locationParams:{align:n,behavior:o,...r},viewportBottom:s,viewportTop:i})=>e<i?{...r,align:n!=null?n:"start",behavior:o}:t>s?{...r,align:n!=null?n:"end",behavior:o}:null,Wo=$(([{gap:t,sizes:e,totalCount:n},{fixedFooterHeight:o,fixedHeaderHeight:r,headerHeight:s,scrollingInProgress:i,scrollTop:l,viewportHeight:c},{scrollToIndex:d}])=>{const f=D();return F(S(f,G(e,c,n,s,r,o,l),G(t),H(([[I,p,m,C,x,y,g,u],T])=>{const{align:b,behavior:h,calculateViewLocation:a=Ao,done:E,...B}=I,O=jn(I,p,C-1),z=re(O,p.offsetTree,T)+x+y,V=z+wt(p.sizeTree,O)[1],N=u+y,J=u+m-g,nt=a({itemBottom:V,itemTop:z,locationParams:{align:b,behavior:h,...B},viewportBottom:J,viewportTop:N});return nt?E&&Rt(S(i,P(k=>!k),Ut(lt(i)?1:2)),E):E&&E(),nt}),P(I=>I!==null)),d),{scrollIntoView:f}},X(Ht,at,ie,_t,Vt),{singleton:!0}),Dn=$(([{scrollVelocity:t}])=>{const e=w(!1),n=D(),o=w(!1);return F(S(t,G(o,e,n),P(([r,s])=>!!s),H(([r,s,i,l])=>{const{enter:c,exit:d}=s;if(i){if(d(r,l))return!1}else if(c(r,l))return!0;return i}),Y()),e),U(S(rt(e,t,n),G(o)),([[r,s,i],l])=>{r&&l&&l.change&&l.change(s,i)}),{isSeeking:e,scrollSeekConfiguration:o,scrollSeekRangeChanged:n,scrollVelocity:t}},X(ce),{singleton:!0}),De=$(([{scrollContainerState:t,scrollTo:e}])=>{const n=D(),o=D(),r=D(),s=w(!1),i=w(void 0);return F(S(rt(n,o),H(([{scrollHeight:l,scrollTop:c,viewportHeight:d},{offsetTop:f}])=>({scrollHeight:l,scrollTop:Math.max(0,c-f),viewportHeight:d}))),t),F(S(e,G(o),H(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),r),{customScrollParent:i,useWindowScroll:s,windowScrollContainerState:n,windowScrollTo:r,windowViewportRect:o}},X(at)),Go=$(([{sizeRanges:t,sizes:e},{headerHeight:n,scrollTop:o},{initialTopMostItemIndex:r},{didMount:s},{useWindowScroll:i,windowScrollContainerState:l,windowViewportRect:c}])=>{const d=D(),f=w(void 0),I=w(null),p=w(null);return F(l,I),F(c,p),U(S(d,G(e,o,i,I,p,n)),([m,C,x,y,g,u,T])=>{const b=yo(C.sizeTree);y&&g!==null&&u!==null&&(x=g.scrollTop-u.offsetTop),x-=T,m({ranges:b,scrollTop:x})}),F(S(f,P(Ve),H(_o)),r),F(S(s,G(f),P(([,m])=>m!==void 0),Y(),H(([,m])=>m.ranges)),t),{getState:d,restoreStateFrom:f}},X(Ht,at,le,Pt,De));function _o(t){return{align:"start",index:0,offset:t.scrollTop}}const No=$(([{topItemsIndexes:t}])=>{const e=w(0);return F(S(e,P(n=>n>=0),H(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},X(_t));function $n(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const Do=$n(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),$o=$(([{deviation:t,scrollBy:e,scrollingInProgress:n,scrollTop:o},{isAtBottom:r,isScrolling:s,lastJumpDueToItemResize:i,scrollDirection:l},{listState:c},{beforeUnshiftWith:d,gap:f,shiftWithOffset:I,sizes:p},{log:m},{recalcInProgress:C}])=>{const x=ht(S(c,G(i),bt(([,g,u,T],[{bottom:b,items:h,offsetBottom:a,totalCount:E},B])=>{const O=b+a;let z=0;return u===E&&g.length>0&&h.length>0&&(h[0].originalIndex===0&&g[0].originalIndex===0||(z=O-T,z!==0&&(z+=B))),[z,h,E,O]},[0,[],0,0]),P(([g])=>g!==0),G(o,l,n,r,m,C),P(([,g,u,T,,,b])=>!b&&!T&&g!==0&&u===se),H(([[g],,,,,u])=>(u("Upward scrolling compensation",{amount:g},mt.DEBUG),g))));function y(g){g>0?(A(e,{behavior:"auto",top:-g}),A(t,0)):(A(t,0),A(e,{behavior:"auto",top:-g}))}return U(S(x,G(t,s)),([g,u,T])=>{T&&Do()?A(t,u-g):y(-g)}),U(S(rt(ct(s,!1),t,C),P(([g,u,T])=>!g&&!T&&u!==0),H(([g,u])=>u),Lt(1)),y),F(S(I,H(g=>({top:-g}))),e),U(S(d,G(p,f),H(([g,{groupIndices:u,lastSize:T,sizeTree:b},h])=>{function a(E){return E*(T+h)}if(u.length===0)return a(g);{let E=0;const B=ne(b,0);let O=0,z=0;for(;O<g;){O++,E+=B;let V=u.length===z+1?1/0:u[z+1]-u[z]-1;O+V>g&&(E-=B,V=g-O+1),O+=V,E+=a(V),z++}return E}})),g=>{A(t,g),requestAnimationFrame(()=>{A(e,{top:g}),requestAnimationFrame(()=>{A(t,0),A(C,!1)})})}),{deviation:t}},X(at,ce,_t,Ht,Vt,Ae)),Uo=$(([t,e,n,o,r,s,i,l,c,d])=>({...t,...e,...n,...o,...r,...s,...i,...l,...c,...d}),X(Ne,Mo,Pt,Dn,Nn,jo,zo,De,Wo,Vt)),Un=$(([{data:t,defaultItemSize:e,firstItemIndex:n,fixedItemSize:o,gap:r,groupIndices:s,itemSize:i,sizeRanges:l,sizes:c,statefulTotalCount:d,totalCount:f,trackItemSizes:I},{initialItemFinalLocationReached:p,initialTopMostItemIndex:m,scrolledToInitialItem:C},x,y,g,{listState:u,topItemsIndexes:T,...b},{scrollToIndex:h},a,{topItemCount:E},{groupCounts:B},O])=>(F(b.rangeChanged,O.scrollSeekRangeChanged),F(S(O.windowViewportRect,H(z=>z.visibleHeight)),x.viewportHeight),{data:t,defaultItemHeight:e,firstItemIndex:n,fixedItemHeight:o,gap:r,groupCounts:B,initialItemFinalLocationReached:p,initialTopMostItemIndex:m,scrolledToInitialItem:C,sizeRanges:l,topItemCount:E,topItemsIndexes:T,totalCount:f,...g,groupIndices:s,itemSize:i,listState:u,scrollToIndex:h,statefulTotalCount:d,trackItemSizes:I,...b,...O,...x,sizes:c,...y}),X(Ht,le,at,Go,Po,_t,ie,$o,No,An,Uo));function Ko(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)Object.hasOwn(o,i)||(n[i]=e[i]);return n}const me=typeof document<"u"?R.useLayoutEffect:R.useEffect;function $e(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=R.createContext({});function c(g,u){g.propsReady&&A(g.propsReady,!1);for(const T of o){const b=g[e.required[T]];A(b,u[T])}for(const T of r)if(T in u){const b=g[e.optional[T]];A(b,u[T])}g.propsReady&&A(g.propsReady,!0)}function d(g){return s.reduce((u,T)=>(u[T]=b=>{const h=g[e.methods[T]];A(h,b)},u),{})}function f(g){return i.reduce((u,T)=>(u[T]=co(g[e.events[T]]),u),{})}const I=R.forwardRef((g,u)=>{const{children:T,...b}=g,[h]=R.useState(()=>Ce(ao(t),B=>{c(B,b)})),[a]=R.useState(sn(f,h));me(()=>{for(const B of i)B in b&&U(a[B],b[B]);return()=>{Object.values(a).map(Pe)}},[b,a,h]),me(()=>{c(h,b)}),R.useImperativeHandle(u,rn(d(h)));const E=n;return L.jsx(l.Provider,{value:h,children:n?L.jsx(E,{...Ko([...o,...r,...i],b),children:T}):T})}),p=g=>R.useCallback(En(A,R.useContext(l)[g]),[g]),m=g=>{const T=R.useContext(l)[g],b=R.useCallback(h=>U(T,h),[T]);return R.useSyncExternalStore(b,()=>lt(T),()=>lt(T))},C=g=>{const T=R.useContext(l)[g],[b,h]=R.useState(sn(lt,T));return me(()=>U(T,a=>{a!==b&&h(rn(a))}),[T,b]),b},x=R.version.startsWith("18")?m:C;return{Component:I,useEmitter:(g,u)=>{const b=R.useContext(l)[g];me(()=>U(b,u),[u,b])},useEmitterValue:x,usePublisher:p}}const ue=R.createContext(void 0),Ue=R.createContext(void 0),Kn=typeof document<"u"?R.useLayoutEffect:R.useEffect;function qn(t,e,n,o=Gt,r,s){const i=R.useRef(null),l=R.useRef(null),c=R.useRef(null),d=R.useCallback(p=>{const m=p.target,C=m===window||m===document,x=s?C?window.pageXOffset||document.documentElement.scrollLeft:m.scrollLeft:C?window.pageYOffset||document.documentElement.scrollTop:m.scrollTop,y=s?C?document.documentElement.scrollWidth:m.scrollWidth:C?document.documentElement.scrollHeight:m.scrollHeight,g=s?C?window.innerWidth:m.offsetWidth:C?window.innerHeight:m.offsetHeight,u=()=>{t({scrollHeight:y,scrollTop:Math.max(x,0),viewportHeight:g})};p.suppressFlushSync?u():oo.flushSync(u),l.current!==null&&(x===l.current||x<=0||x===y-g)&&(l.current=null,e(!0),c.current&&(clearTimeout(c.current),c.current=null))},[t,e]);R.useEffect(()=>{const p=r||i.current;return o(r||i.current),d({suppressFlushSync:!0,target:p}),p.addEventListener("scroll",d,{passive:!0}),()=>{o(null),p.removeEventListener("scroll",d)}},[i,d,n,o,r]);function f(p){const m=i.current;if(!m||(s?"offsetWidth"in m&&m.offsetWidth===0:"offsetHeight"in m&&m.offsetHeight===0))return;const C=p.behavior==="smooth";let x,y,g;m===window?(y=Math.max(Ct(document.documentElement,s?"width":"height"),s?document.documentElement.scrollWidth:document.documentElement.scrollHeight),x=s?window.innerWidth:window.innerHeight,g=s?document.documentElement.scrollLeft:document.documentElement.scrollTop):(y=m[s?"scrollWidth":"scrollHeight"],x=Ct(m,s?"width":"height"),g=m[s?"scrollLeft":"scrollTop"]);const u=y-x;if(p.top=Math.ceil(Math.max(Math.min(u,p.top),0)),Gn(x,y)||p.top===g){t({scrollHeight:y,scrollTop:g,viewportHeight:x}),C&&e(!0);return}C?(l.current=p.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,e(!0)},1e3)):l.current=null,s&&(p={behavior:p.behavior,left:p.top}),m.scrollTo(p)}function I(p){s&&(p={behavior:p.behavior,left:p.top}),i.current.scrollBy(p)}return{scrollByCallback:I,scrollerRef:i,scrollToCallback:f}}const He="-webkit-sticky",xn="sticky",Yn=$n(()=>{if(typeof document>"u")return xn;const t=document.createElement("div");return t.style.position=He,t.style.position===He?He:xn});function Ke(t){return t}const qo=$(()=>{const t=w(c=>`Item ${c}`),e=w(null),n=w(c=>`Group ${c}`),o=w({}),r=w(Ke),s=w("div"),i=w(Gt),l=(c,d=null)=>ct(S(o,H(f=>f[c]),Y()),d);return{components:o,computeItemKey:r,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:n,HeaderComponent:l("Header"),HeaderFooterTag:s,ItemComponent:l("Item","div"),itemContent:t,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}}),Yo=$(([t,e])=>({...t,...e}),X(Un,qo)),Zo=({height:t})=>L.jsx("div",{style:{height:t}}),Xo={overflowAnchor:"none",position:Yn(),zIndex:1},Zn={overflowAnchor:"none"},Jo={...Zn,display:"inline-block",height:"100%"},In=R.memo(function({showTopList:e=!1}){const n=j("listState"),o=gt("sizeRanges"),r=j("useWindowScroll"),s=j("customScrollParent"),i=gt("windowScrollContainerState"),l=gt("scrollContainerState"),c=s||r?i:l,d=j("itemContent"),f=j("context"),I=j("groupContent"),p=j("trackItemSizes"),m=j("itemSize"),C=j("log"),x=gt("gap"),y=j("horizontalDirection"),{callbackRef:g}=kn(o,m,p,e?Gt:c,C,x,s,y,j("skipAnimationFrameInResizeObserver")),[u,T]=R.useState(0);Ze("deviation",k=>{u!==k&&T(k)});const b=j("EmptyPlaceholder"),h=j("ScrollSeekPlaceholder")||Zo,a=j("ListComponent"),E=j("ItemComponent"),B=j("GroupComponent"),O=j("computeItemKey"),z=j("isSeeking"),V=j("groupIndices").length>0,N=j("alignToBottom"),J=j("initialItemFinalLocationReached"),nt=e?{}:{boxSizing:"border-box",...y?{display:"inline-block",height:"100%",marginLeft:u!==0?u:N?"auto":0,paddingLeft:n.offsetTop,paddingRight:n.offsetBottom,whiteSpace:"nowrap"}:{marginTop:u!==0?u:N?"auto":0,paddingBottom:n.offsetBottom,paddingTop:n.offsetTop},...J?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&b?L.jsx(b,{...Z(b,f)}):L.jsx(a,{...Z(a,f),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:g,style:nt,children:(e?n.topItems:n.items).map(k=>{const q=k.originalIndex,st=O(q+n.firstItemIndex,k.data,f);return z?R.createElement(h,{...Z(h,f),height:k.size,index:k.index,key:st,type:k.type||"item",...k.type==="group"?{}:{groupIndex:k.groupIndex}}):k.type==="group"?R.createElement(B,{...Z(B,f),"data-index":q,"data-item-index":k.index,"data-known-size":k.size,key:st,style:Xo},I(k.index,f)):R.createElement(E,{...Z(E,f),...Xn(E,k.data),"data-index":q,"data-item-group-index":k.groupIndex,"data-item-index":k.index,"data-known-size":k.size,key:st,style:y?Jo:Zn},V?d(k.index,k.groupIndex,k.data,f):d(k.index,k.data,f))})})}),Qo={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},tr={outline:"none",overflowX:"auto",position:"relative"},qt=t=>({height:"100%",position:"absolute",top:0,width:"100%",...t?{display:"flex",flexDirection:"column"}:{}}),er={position:Yn(),top:0,width:"100%",zIndex:1};function Z(t,e){if(typeof t!="string")return{context:e}}function Xn(t,e){return{item:typeof t=="string"?void 0:e}}const nr=R.memo(function(){const e=j("HeaderComponent"),n=gt("headerHeight"),o=j("HeaderFooterTag"),r=Et(R.useMemo(()=>i=>{n(Ct(i,"height"))},[n]),!0,j("skipAnimationFrameInResizeObserver")),s=j("context");return e?L.jsx(o,{ref:r,children:L.jsx(e,{...Z(e,s)})}):null}),or=R.memo(function(){const e=j("FooterComponent"),n=gt("footerHeight"),o=j("HeaderFooterTag"),r=Et(R.useMemo(()=>i=>{n(Ct(i,"height"))},[n]),!0,j("skipAnimationFrameInResizeObserver")),s=j("context");return e?L.jsx(o,{ref:r,children:L.jsx(e,{...Z(e,s)})}):null});function qe({useEmitter:t,useEmitterValue:e,usePublisher:n}){return R.memo(function({children:s,style:i,...l}){const c=n("scrollContainerState"),d=e("ScrollerComponent"),f=n("smoothScrollTargetReached"),I=e("scrollerRef"),p=e("context"),m=e("horizontalDirection")||!1,{scrollByCallback:C,scrollerRef:x,scrollToCallback:y}=qn(c,f,d,I,void 0,m);t("scrollTo",y),t("scrollBy",C);const g=m?tr:Qo;return L.jsx(d,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:x,style:{...g,...i},tabIndex:0,...l,...Z(d,p),children:s})})}function Ye({useEmitter:t,useEmitterValue:e,usePublisher:n}){return R.memo(function({children:s,style:i,...l}){const c=n("windowScrollContainerState"),d=e("ScrollerComponent"),f=n("smoothScrollTargetReached"),I=e("totalListHeight"),p=e("deviation"),m=e("customScrollParent"),C=e("context"),{scrollByCallback:x,scrollerRef:y,scrollToCallback:g}=qn(c,f,d,Gt,m);return Kn(()=>(y.current=m||window,()=>{y.current=null}),[y,m]),t("windowScrollTo",g),t("scrollBy",x),L.jsx(d,{"data-virtuoso-scroller":!0,style:{position:"relative",...i,...I!==0?{height:I+p}:{}},...l,...Z(d,C),children:s})})}const rr=({children:t})=>{const e=R.useContext(ue),n=gt("viewportHeight"),o=gt("fixedItemHeight"),r=j("alignToBottom"),s=j("horizontalDirection"),i=R.useMemo(()=>te(n,c=>Ct(c,s?"width":"height")),[n,s]),l=Et(i,!0,j("skipAnimationFrameInResizeObserver"));return R.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),L.jsx("div",{"data-viewport-type":"element",ref:l,style:qt(r),children:t})},sr=({children:t})=>{const e=R.useContext(ue),n=gt("windowViewportRect"),o=gt("fixedItemHeight"),r=j("customScrollParent"),s=je(n,r,j("skipAnimationFrameInResizeObserver")),i=j("alignToBottom");return R.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),L.jsx("div",{"data-viewport-type":"window",ref:s,style:qt(i),children:t})},ir=({children:t})=>{const e=j("TopItemListComponent")||"div",n=j("headerHeight"),o={...er,marginTop:`${n}px`},r=j("context");return L.jsx(e,{style:o,...Z(e,r),children:t})},lr=R.memo(function(e){const n=j("useWindowScroll"),o=j("topItemsIndexes").length>0,r=j("customScrollParent"),s=j("context"),i=r||n?ur:cr,l=r||n?sr:rr;return L.jsxs(i,{...e,...Z(i,s),children:[o&&L.jsx(ir,{children:L.jsx(In,{showTopList:!0})}),L.jsxs(l,{children:[L.jsx(nr,{}),L.jsx(In,{}),L.jsx(or,{})]})]})}),{Component:Jn,useEmitter:Ze,useEmitterValue:j,usePublisher:gt}=$e(Yo,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{autoscrollToBottom:"autoscrollToBottom",getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupContent:"groupContent",groupCounts:"groupCounts",headerFooterTag:"HeaderFooterTag",horizontalDirection:"horizontalDirection",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},lr),cr=qe({useEmitter:Ze,useEmitterValue:j,usePublisher:gt}),ur=Ye({useEmitter:Ze,useEmitterValue:j,usePublisher:gt}),ar=Jn,dr=Jn,fr=$(()=>{const t=w(c=>L.jsxs("td",{children:["Item $",c]})),e=w(null),n=w(null),o=w(null),r=w({}),s=w(Ke),i=w(Gt),l=(c,d=null)=>ct(S(r,H(f=>f[c]),Y()),d);return{components:r,computeItemKey:s,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:o,fixedHeaderContent:n,itemContent:t,ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr")}}),mr=$(([t,e])=>({...t,...e}),X(Un,fr)),pr=({height:t})=>L.jsx("tr",{children:L.jsx("td",{style:{height:t}})}),hr=({height:t})=>L.jsx("tr",{children:L.jsx("td",{style:{border:0,height:t,padding:0}})}),gr={overflowAnchor:"none"},Sn=R.memo(function({showTopList:e=!1}){const n=W("listState"),o=W("computeItemKey"),r=W("firstItemIndex"),s=W("isSeeking"),i=W("ScrollSeekPlaceholder")||pr,l=W("context"),c=W("TableRowComponent"),d=W("fixedHeaderHeight"),f=W("itemContent"),I=(e?n.topItems:[]).reduce((m,C,x)=>(x===0?m.push(C.size):m.push(m[x-1]+C.size),m),[]),p=(e?n.topItems:n.items).map(m=>{const C=m.originalIndex,x=o(C+r,m.data,l),y=e?C===0?0:I[C-1]:0;return s?R.createElement(i,{...Z(i,l),height:m.size,index:m.index,key:x,type:m.type||"item"}):R.createElement(c,{...Z(c,l),...Xn(c,m.data),"data-index":C,"data-item-index":m.index,"data-known-size":m.size,key:x,style:e?{overflowAnchor:"none",position:"sticky",top:d+y,zIndex:2}:gr},f(m.index,m.data,l))});return L.jsx(L.Fragment,{children:p})}),xr=R.memo(function(){const e=W("listState"),n=W("topItemsIndexes").length>0,o=Tt("sizeRanges"),r=W("useWindowScroll"),s=W("customScrollParent"),i=Tt("windowScrollContainerState"),l=Tt("scrollContainerState"),c=s||r?i:l,d=W("trackItemSizes"),f=W("itemSize"),I=W("log"),{callbackRef:p,ref:m}=kn(o,f,d,c,I,void 0,s,!1,W("skipAnimationFrameInResizeObserver")),[C,x]=R.useState(0);Xe("deviation",V=>{C!==V&&(m.current.style.marginTop=`${V}px`,x(V))});const y=W("EmptyPlaceholder"),g=W("FillerRow")||hr,u=W("TableBodyComponent"),T=W("paddingTopAddition"),b=W("statefulTotalCount"),h=W("context");if(b===0&&y)return L.jsx(y,{...Z(y,h)});const a=(n?e.topItems:[]).reduce((V,N)=>V+N.size,0),E=e.offsetTop+T+C-a,B=e.offsetBottom,O=E>0?L.jsx(g,{context:h,height:E},"padding-top"):null,z=B>0?L.jsx(g,{context:h,height:B},"padding-bottom"):null;return L.jsxs(u,{"data-testid":"virtuoso-item-list",ref:p,...Z(u,h),children:[O,n&&L.jsx(Sn,{showTopList:!0}),L.jsx(Sn,{}),z]})}),Ir=({children:t})=>{const e=R.useContext(ue),n=Tt("viewportHeight"),o=Tt("fixedItemHeight"),r=Et(R.useMemo(()=>te(n,s=>Ct(s,"height")),[n]),!0,W("skipAnimationFrameInResizeObserver"));return R.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),L.jsx("div",{"data-viewport-type":"element",ref:r,style:qt(!1),children:t})},Sr=({children:t})=>{const e=R.useContext(ue),n=Tt("windowViewportRect"),o=Tt("fixedItemHeight"),r=W("customScrollParent"),s=je(n,r,W("skipAnimationFrameInResizeObserver"));return R.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),L.jsx("div",{"data-viewport-type":"window",ref:s,style:qt(!1),children:t})},Tr=R.memo(function(e){const n=W("useWindowScroll"),o=W("customScrollParent"),r=Tt("fixedHeaderHeight"),s=Tt("fixedFooterHeight"),i=W("fixedHeaderContent"),l=W("fixedFooterContent"),c=W("context"),d=Et(R.useMemo(()=>te(r,u=>Ct(u,"height")),[r]),!0,W("skipAnimationFrameInResizeObserver")),f=Et(R.useMemo(()=>te(s,u=>Ct(u,"height")),[s]),!0,W("skipAnimationFrameInResizeObserver")),I=o||n?yr:Cr,p=o||n?Sr:Ir,m=W("TableComponent"),C=W("TableHeadComponent"),x=W("TableFooterComponent"),y=i?L.jsx(C,{ref:d,style:{position:"sticky",top:0,zIndex:2},...Z(C,c),children:i()},"TableHead"):null,g=l?L.jsx(x,{ref:f,style:{bottom:0,position:"sticky",zIndex:1},...Z(x,c),children:l()},"TableFoot"):null;return L.jsx(I,{...e,...Z(I,c),children:L.jsx(p,{children:L.jsxs(m,{style:{borderSpacing:0,overflowAnchor:"none"},...Z(m,c),children:[y,L.jsx(xr,{},"TableBody"),g]})})})}),{Component:wr,useEmitter:Xe,useEmitterValue:W,usePublisher:Tt}=$e(mr,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",groupIndices:"groupIndices",isScrolling:"isScrolling",itemsRendered:"itemsRendered",rangeChanged:"rangeChanged",startReached:"startReached",totalListHeightChanged:"totalListHeightChanged"},methods:{getState:"getState",scrollBy:"scrollBy",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{alignToBottom:"alignToBottom",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",defaultItemHeight:"defaultItemHeight",firstItemIndex:"firstItemIndex",fixedFooterContent:"fixedFooterContent",fixedHeaderContent:"fixedHeaderContent",fixedItemHeight:"fixedItemHeight",followOutput:"followOutput",groupCounts:"groupCounts",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",initialTopMostItemIndex:"initialTopMostItemIndex",itemContent:"itemContent",itemSize:"itemSize",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",topItemCount:"topItemCount",totalCount:"totalCount",useWindowScroll:"useWindowScroll"},required:{}},Tr),Cr=qe({useEmitter:Xe,useEmitterValue:W,usePublisher:Tt}),yr=Ye({useEmitter:Xe,useEmitterValue:W,usePublisher:Tt}),vr=wr,Tn={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},br={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:wn,floor:Te,max:Qt,min:ke,round:Cn}=Math;function yn(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>({data:n===null?null:n[r+t],index:r+t}))}function Rr(t){return{...br,items:t}}function pe(t,e){return t&&t.width===e.width&&t.height===e.height}function Er(t,e){return t&&t.column===e.column&&t.row===e.row}const Hr=$(([{increaseViewportBy:t,listBoundary:e,overscan:n,visibleRange:o},{footerHeight:r,headerHeight:s,scrollBy:i,scrollContainerState:l,scrollTo:c,scrollTop:d,smoothScrollTargetReached:f,viewportHeight:I},p,m,{didMount:C,propsReady:x},{customScrollParent:y,useWindowScroll:g,windowScrollContainerState:u,windowScrollTo:T,windowViewportRect:b},h])=>{const a=w(0),E=w(0),B=w(Tn),O=w({height:0,width:0}),z=w({height:0,width:0}),V=D(),N=D(),J=w(0),nt=w(null),k=w({column:0,row:0}),q=D(),st=D(),dt=w(!1),It=w(0),ft=w(!0),ut=w(!1),Mt=w(!1);U(S(C,G(It),P(([v,_])=>!!_)),()=>{A(ft,!1)}),U(S(rt(C,ft,z,O,It,ut),P(([v,_,Q,it,,tt])=>v&&!_&&Q.height!==0&&it.height!==0&&!tt)),([,,,,v])=>{A(ut,!0),Ge(1,()=>{A(V,v)}),Rt(S(d),()=>{A(e,[0,0]),A(ft,!0)})}),F(S(st,P(v=>v!=null&&v.scrollTop>0),vt(0)),E),U(S(C,G(st),P(([,v])=>v!=null)),([,v])=>{v&&(A(O,v.viewport),A(z,v.item),A(k,v.gap),v.scrollTop>0&&(A(dt,!0),Rt(S(d,Ut(1)),_=>{A(dt,!1)}),A(c,{top:v.scrollTop})))}),F(S(O,H(({height:v})=>v)),I),F(S(rt(M(O,pe),M(z,pe),M(k,(v,_)=>v&&v.column===_.column&&v.row===_.row),M(d)),H(([v,_,Q,it])=>({gap:Q,item:_,scrollTop:it,viewport:v}))),q),F(S(rt(M(a),o,M(k,Er),M(z,pe),M(O,pe),M(nt),M(E),M(dt),M(ft),M(It)),P(([,,,,,,,v])=>!v),H(([v,[_,Q],it,tt,Bt,Zt,Nt,,ae,Ot])=>{const{column:Ft,row:Xt}=it,{height:de,width:be}=tt,{width:Je}=Bt;if(Nt===0&&(v===0||Je===0))return Tn;if(be===0){const on=_e(Ot,v),no=on+Math.max(Nt-1,0);return Rr(yn(on,no,Zt))}const fe=Qn(Je,be,Ft);let Dt,At;ae?_===0&&Q===0&&Nt>0?(Dt=0,At=Nt-1):(Dt=fe*Te((_+Xt)/(de+Xt)),At=fe*wn((Q+Xt)/(de+Xt))-1,At=ke(v-1,Qt(At,fe-1)),Dt=ke(At,Qt(0,Dt))):(Dt=0,At=-1);const Qe=yn(Dt,At,Zt),{bottom:tn,top:en}=vn(Bt,it,tt,Qe),nn=wn(v/fe),eo=nn*de+(nn-1)*Xt-tn;return{bottom:tn,itemHeight:de,items:Qe,itemWidth:be,offsetBottom:eo,offsetTop:en,top:en}})),B),F(S(nt,P(v=>v!==null),H(v=>v.length)),a),F(S(rt(O,z,B,k),P(([v,_,{items:Q}])=>Q.length>0&&_.height!==0&&v.height!==0),H(([v,_,{items:Q},it])=>{const{bottom:tt,top:Bt}=vn(v,it,_,Q);return[Bt,tt]}),Y(oe)),e);const St=w(!1);F(S(d,G(St),H(([v,_])=>_||v!==0)),St);const Yt=ht(S(rt(B,a),P(([{items:v}])=>v.length>0),G(St),P(([[v,_],Q])=>{const tt=v.items[v.items.length-1].index===_-1;return(Q||v.bottom>0&&v.itemHeight>0&&v.offsetBottom===0&&v.items.length===_)&&tt}),H(([[,v]])=>v-1),Y())),jt=ht(S(M(B),P(({items:v})=>v.length>0&&v[0].index===0),vt(0),Y())),yt=ht(S(M(B),G(dt),P(([{items:v},_])=>v.length>0&&!_),H(([{items:v}])=>({endIndex:v[v.length-1].index,startIndex:v[0].index})),Y(Vn),Lt(0)));F(yt,m.scrollSeekRangeChanged),F(S(V,G(O,z,a,k),H(([v,_,Q,it,tt])=>{const Bt=Wn(v),{align:Zt,behavior:Nt,offset:ae}=Bt;let Ot=Bt.index;Ot==="LAST"&&(Ot=it-1),Ot=Qt(0,Ot,ke(it-1,Ot));let Ft=ze(_,tt,Q,Ot);return Zt==="end"?Ft=Cn(Ft-_.height+Q.height):Zt==="center"&&(Ft=Cn(Ft-_.height/2+Q.height/2)),ae&&(Ft+=ae),{behavior:Nt,top:Ft}})),c);const kt=ct(S(B,H(v=>v.offsetBottom+v.bottom)),0);return F(S(b,H(v=>({height:v.visibleHeight,width:v.visibleWidth}))),O),{customScrollParent:y,data:nt,deviation:J,footerHeight:r,gap:k,headerHeight:s,increaseViewportBy:t,initialItemCount:E,itemDimensions:z,overscan:n,restoreStateFrom:st,scrollBy:i,scrollContainerState:l,scrollHeight:N,scrollTo:c,scrollToIndex:V,scrollTop:d,smoothScrollTargetReached:f,totalCount:a,useWindowScroll:g,viewportDimensions:O,windowScrollContainerState:u,windowScrollTo:T,windowViewportRect:b,...m,gridState:B,horizontalDirection:Mt,initialTopMostItemIndex:It,totalListHeight:kt,...p,endReached:Yt,propsReady:x,rangeChanged:yt,startReached:jt,stateChanged:q,stateRestoreInProgress:dt,...h}},X(Ne,at,ce,Dn,Pt,De,Vt));function Qn(t,e,n){return Qt(1,Te((t+n)/(Te(e)+n)))}function vn(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{bottom:0,top:0};const s=ze(t,e,n,o[0].index);return{bottom:ze(t,e,n,o[o.length-1].index)+r,top:s}}function ze(t,e,n,o){const r=Qn(t.width,n.width,e.column),s=Te(o/r),i=s*n.height+Qt(0,s-1)*e.row;return i>0?i+e.row:i}const kr=$(()=>{const t=w(I=>`Item ${I}`),e=w({}),n=w(null),o=w("virtuoso-grid-item"),r=w("virtuoso-grid-list"),s=w(Ke),i=w("div"),l=w(Gt),c=(I,p=null)=>ct(S(e,H(m=>m[I]),Y()),p),d=w(!1),f=w(!1);return F(M(f),d),{components:e,computeItemKey:s,context:n,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:i,itemClassName:o,ItemComponent:c("Item","div"),itemContent:t,listClassName:r,ListComponent:c("List","div"),readyStateChanged:d,reportReadyState:f,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),Br=$(([t,e])=>({...t,...e}),X(Hr,kr)),Or=R.memo(function(){const e=et("gridState"),n=et("listClassName"),o=et("itemClassName"),r=et("itemContent"),s=et("computeItemKey"),i=et("isSeeking"),l=xt("scrollHeight"),c=et("ItemComponent"),d=et("ListComponent"),f=et("ScrollSeekPlaceholder"),I=et("context"),p=xt("itemDimensions"),m=xt("gap"),C=et("log"),x=et("stateRestoreInProgress"),y=xt("reportReadyState"),g=Et(R.useMemo(()=>u=>{const T=u.parentElement.parentElement.scrollHeight;l(T);const b=u.firstChild;if(b){const{height:h,width:a}=b.getBoundingClientRect();p({height:h,width:a})}m({column:bn("column-gap",getComputedStyle(u).columnGap,C),row:bn("row-gap",getComputedStyle(u).rowGap,C)})},[l,p,m,C]),!0,!1);return Kn(()=>{e.itemHeight>0&&e.itemWidth>0&&y(!0)},[e]),x?null:L.jsx(d,{className:n,ref:g,...Z(d,I),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(u=>{const T=s(u.index,u.data,I);return i?L.jsx(f,{...Z(f,I),height:e.itemHeight,index:u.index,width:e.itemWidth},T):R.createElement(c,{...Z(c,I),className:o,"data-index":u.index,key:T},r(u.index,u.data,I))})})}),Fr=R.memo(function(){const e=et("HeaderComponent"),n=xt("headerHeight"),o=et("headerFooterTag"),r=Et(R.useMemo(()=>i=>{n(Ct(i,"height"))},[n]),!0,!1),s=et("context");return e?L.jsx(o,{ref:r,children:L.jsx(e,{...Z(e,s)})}):null}),Lr=R.memo(function(){const e=et("FooterComponent"),n=xt("footerHeight"),o=et("headerFooterTag"),r=Et(R.useMemo(()=>i=>{n(Ct(i,"height"))},[n]),!0,!1),s=et("context");return e?L.jsx(o,{ref:r,children:L.jsx(e,{...Z(e,s)})}):null}),zr=({children:t})=>{const e=R.useContext(Ue),n=xt("itemDimensions"),o=xt("viewportDimensions"),r=Et(R.useMemo(()=>s=>{o(s.getBoundingClientRect())},[o]),!0,!1);return R.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),L.jsx("div",{ref:r,style:qt(!1),children:t})},Vr=({children:t})=>{const e=R.useContext(Ue),n=xt("windowViewportRect"),o=xt("itemDimensions"),r=et("customScrollParent"),s=je(n,r,!1);return R.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),L.jsx("div",{ref:s,style:qt(!1),children:t})},Pr=R.memo(function({...e}){const n=et("useWindowScroll"),o=et("customScrollParent"),r=o||n?Ar:jr,s=o||n?Vr:zr,i=et("context");return L.jsx(r,{...e,...Z(r,i),children:L.jsxs(s,{children:[L.jsx(Fr,{}),L.jsx(Or,{}),L.jsx(Lr,{})]})})}),{Component:Mr,useEmitter:to,useEmitterValue:et,usePublisher:xt}=$e(Br,{events:{atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",endReached:"endReached",isScrolling:"isScrolling",rangeChanged:"rangeChanged",readyStateChanged:"readyStateChanged",startReached:"startReached",stateChanged:"stateChanged"},methods:{scrollBy:"scrollBy",scrollTo:"scrollTo",scrollToIndex:"scrollToIndex"},optional:{components:"components",computeItemKey:"computeItemKey",context:"context",customScrollParent:"customScrollParent",data:"data",headerFooterTag:"headerFooterTag",increaseViewportBy:"increaseViewportBy",initialItemCount:"initialItemCount",initialTopMostItemIndex:"initialTopMostItemIndex",itemClassName:"itemClassName",itemContent:"itemContent",listClassName:"listClassName",logLevel:"logLevel",overscan:"overscan",restoreStateFrom:"restoreStateFrom",scrollerRef:"scrollerRef",scrollSeekConfiguration:"scrollSeekConfiguration",totalCount:"totalCount",useWindowScroll:"useWindowScroll"}},Pr),jr=qe({useEmitter:to,useEmitterValue:et,usePublisher:xt}),Ar=Ye({useEmitter:to,useEmitterValue:et,usePublisher:xt});function bn(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}const Wr=Mr;exports.GroupedVirtuoso=dr;exports.LogLevel=mt;exports.TableVirtuoso=vr;exports.Virtuoso=ar;exports.VirtuosoGrid=Wr;exports.VirtuosoGridMockContext=Ue;exports.VirtuosoMockContext=ue;
